(function(t){function r(r){for(var o,n,a=r[0],l=r[1],u=r[2],p=0,d=[];p<a.length;p++)n=a[p],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);c&&c(r);while(d.length)d.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,r=0;r<i.length;r++){for(var e=i[r],o=!0,a=1;a<e.length;a++){var l=e[a];0!==s[l]&&(o=!1)}o&&(i.splice(r--,1),t=n(n.s=e[0]))}return t}var o={},s={app:0},i=[];function n(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=o,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=r,a=a.slice();for(var u=0;u<a.length;u++)r(a[u]);var c=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"387e":function(t,r,e){t.exports=e.p+"img/github.b3fba0b4.svg"},"39e9":function(t,r,e){},"56d7":function(t,r,e){"use strict";e.r(r);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),s=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-app",[e("v-content",[e("router-view"),e("github")],1)],1)},i=[],n=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",{staticClass:"github"},[o("v-btn",{attrs:{color:"primary",elevation:"0"},on:{click:t.github}},[o("img",{attrs:{src:e("387e")}}),o("span",{staticClass:"ml-2"},[t._v("GitHub")])])],1)},a=[],l={name:"github",methods:{github:function(){window.open("https://github.com/smichalev/test_front_back")}}},u=l,c=(e("91c6"),e("2877")),p=Object(c["a"])(u,n,a,!1,null,"2b39704b",null),d=p.exports,v={name:"App",components:{github:d},mounted:function(){var t=this;this.$http.get(this.$address+"/profile").then((function(r){r.data.profile||"/"!==t.$route.path||t.$router.push("/login"),r.data.profile.login&&(t.$store.commit("LOGIN",r.data.profile),t.$router.push("/"))}))}},f=v,m=(e("e551"),Object(c["a"])(f,s,i,!1,null,"fb2ea39e",null)),h=m.exports,g=(e("99af"),e("2909")),b=e("8c4f"),w=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e("v-toolbar-title",[t._v("Ваш профиль")])],1),e("v-card-text",[t.profile?e("v-list-item",{attrs:{"two-line":""}},[t.profile._id?e("v-list-item-content",[e("v-list-item-title",[t._v("ID")]),e("v-list-item-subtitle",[t._v(t._s(t.profile._id))])],1):t._e()],1):t._e(),t.profile?e("v-list-item",{attrs:{"two-line":""}},[e("v-list-item-content",[e("v-list-item-title",[t._v("Активность")]),e("v-list-item-subtitle",[t.profile.active?e("v-chip",{attrs:{label:"",color:"success",small:""}},[t._v("Активен")]):e("v-chip",{attrs:{label:"",color:"error",small:""}},[t._v("Не активен")])],1)],1)],1):t._e(),t.profile?e("v-list-item",{attrs:{"two-line":""}},[t.profile.login?e("v-list-item-content",[e("v-list-item-title",[t._v("Email")]),e("v-list-item-subtitle",[t._v(t._s(t.profile.login))])],1):t._e()],1):t._e(),t.profile?e("v-list-item",{attrs:{"two-line":""}},[t.profile.name?e("v-list-item-content",[e("v-list-item-title",[t._v("Имя")]),e("v-list-item-subtitle",[t._v(t._s(t.profile.name))])],1):t._e()],1):t._e(),t.profile?e("v-list-item",{attrs:{"two-line":""}},[t.profile.surname?e("v-list-item-content",[e("v-list-item-title",[t._v("Фамилия")]),e("v-list-item-subtitle",[t._v(t._s(t.profile.surname))])],1):t._e()],1):t._e()],1),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"error",elevation:"0",block:""},on:{click:t.logout}},[t._v("Выйти")])],1)],1)],1)],1)],1)},_=[],$={name:"index",mounted:function(){this.$store.state.auth.profile||this.$router.push("/login")},methods:{registration:function(){this.$router.push("/registration")},forgot__password:function(){this.$router.push("/forgot__password")},logout:function(){var t=this;return this.$http.post(this.$address+"/logout").then((function(){t.$store.commit("LOGOUT"),t.$router.push("/login")}))}},computed:{profile:function(){return this.$store.state.auth.profile}}},x=$,y=Object(c["a"])(x,w,_,!1,null,null,null),E=y.exports,k=[{path:"/",name:"index",component:E}],q=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e("v-toolbar-title",[t._v("Авторизация")]),e("v-spacer"),e("v-btn",{attrs:{elevation:"0",color:"primary"},on:{click:t.registration}},[t._v("Зарегистрироваться")])],1),t.listError.length?e("v-alert",{staticClass:"px-2 py-2 mb-0",attrs:{color:"error",text:""}},t._l(t.listError,(function(r,o){return e("div",{key:o},[t._v(" "+t._s(r)+" ")])})),0):t._e(),e("v-card-text",[e("v-form",[e("v-text-field",{attrs:{label:"Email",name:"email",type:"text",required:"","error-messages":t.emailErrors,rules:t.emailRules},on:{input:function(r){return t.$v.login.$touch()},blur:function(r){return t.$v.login.$touch()}},model:{value:t.login,callback:function(r){t.login=r},expression:"login"}}),e("v-text-field",{attrs:{id:"password",label:"Пароль",name:"password",type:"password",required:"","error-messages":t.passwordErrors,rules:t.rules},on:{input:function(r){return t.$v.password.$touch()},blur:function(r){return t.$v.password.$touch()}},model:{value:t.password,callback:function(r){t.password=r},expression:"password"}})],1)],1),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"error",text:""},on:{click:t.forgot__password}},[t._v("Забыли пароль?")]),e("v-spacer"),e("v-btn",{attrs:{color:"success",elevation:"0",disabled:t.activeBtn},on:{click:t.authorization}},[t._v("Войти")])],1)],1)],1)],1)],1)},O=[],j=e("1dce"),C=e("b5ae"),S={mixins:[j["validationMixin"]],validations:{login:{required:C["required"]},password:{required:C["required"]},repeat_password:{required:C["required"]},name:{required:C["required"]},surname:{required:C["required"]}},name:"login",data:function(){return{listError:[],login:null,password:null,rules:[function(t){return!!t||"Обязательное поле"}],emailRules:[function(t){return!!t||"Обязательное поле"},function(t){return/.+@.+\..+/.test(t)||"Не правильный формат email"}]}},methods:{authorization:function(){var t=this;return this.$v.$touch(),this.listError=[],this.$http.post(this.$address+"/login",{login:this.login,password:this.password}).then((function(r){r.data.profile&&(t.$store.commit("LOGIN",r.data.profile),t.$router.push("/"))})).catch((function(r){t.listError.push(r.response.data.error.message)}))},registration:function(){this.$router.push("/registration")},forgot__password:function(){this.$router.push("/forgot__password")},errorShow:function(t,r){var e=[];return this.$v[t].$dirty?(r&&"password"===r&&(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]){8,}/g.test(this.password)||e.push("Пароль должен быть не меньше 8 символов с заглавными и прописными буквами")),this.$v[t].required||e.push("Обязательное поле"),e):e}},computed:{emailErrors:function(){return this.errorShow("login")},passwordErrors:function(){return this.errorShow("password","password")}},mounted:function(){this.$store.state.profile&&this.$router.push("/")}},L=S,G=Object(c["a"])(L,q,O,!1,null,null,null),P=G.exports,A=[{path:"/login",name:"login",component:P}],M=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e("v-toolbar-title",[t._v("Регистрация")]),e("v-spacer"),e("v-btn",{attrs:{elevation:"0",color:"primary"},on:{click:t.loginURL}},[t._v("Войти")])],1),t.listError.length?e("v-alert",{staticClass:"px-2 py-2 mb-0",attrs:{color:"error",text:""}},t._l(t.listError,(function(r,o){return e("div",{key:o},[t._v(" "+t._s(r)+" ")])})),0):t._e(),e("v-form",[e("v-card-text",[e("v-text-field",{attrs:{"error-messages":t.emailErrors,label:"Email",name:"email",type:"text",required:"",rules:t.emailRules},on:{input:function(r){return t.$v.login.$touch()},blur:function(r){return t.$v.login.$touch()}},model:{value:t.login,callback:function(r){t.login=r},expression:"login"}}),e("v-text-field",{attrs:{"error-messages":t.passwordErrors,label:"Пароль",name:"password",type:"password",required:"",rules:t.rules},on:{input:function(r){return t.$v.password.$touch()},blur:function(r){return t.$v.password.$touch()}},model:{value:t.password,callback:function(r){t.password=r},expression:"password"}}),e("v-text-field",{attrs:{"error-messages":t.repeat_passwordErrors,label:"Повторите пароль",name:"repeat_password",type:"password",required:"",rules:t.rules},on:{input:function(r){return t.$v.repeat_password.$touch()},blur:function(r){return t.$v.repeat_password.$touch()}},model:{value:t.repeat_password,callback:function(r){t.repeat_password=r},expression:"repeat_password"}})],1),e("v-divider"),e("v-card-text",[e("v-text-field",{attrs:{"error-messages":t.nameErrors,label:"Ваше имя",name:"name",type:"text",required:"",rules:t.rules},on:{input:function(r){return t.$v.name.$touch()},blur:function(r){return t.$v.name.$touch()}},model:{value:t.name,callback:function(r){t.name=r},expression:"name"}}),e("v-text-field",{attrs:{"error-messages":t.surnameErrors,label:"Ваша фамилия",name:"surname",type:"text",required:"",rules:t.rules},on:{input:function(r){return t.$v.surname.$touch()},blur:function(r){return t.$v.surname.$touch()}},model:{value:t.surname,callback:function(r){t.surname=r},expression:"surname"}})],1)],1),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"success",elevation:"0",block:""},on:{click:t.registrationAccount}},[t._v("Регистрация")])],1)],1)],1)],1)],1)},R=[],z=(e("b0c0"),{mixins:[j["validationMixin"]],validations:{login:{required:C["required"]},password:{required:C["required"]},repeat_password:{required:C["required"]},name:{required:C["required"]},surname:{required:C["required"]}},name:"registration",data:function(){return{listError:[],login:null,password:null,repeat_password:null,name:null,surname:null,rules:[function(t){return!!t||"Обязательное поле"}],emailRules:[function(t){return!!t||"Обязательное поле"},function(t){return/.+@.+\..+/.test(t)||"Не правильный формат email"}]}},methods:{loginURL:function(){this.$router.push("/login")},registrationAccount:function(){var t=this;this.$v.$touch(),this.listError=[],this.$http.post(this.$address+"/registration",{login:this.login,password:this.password,repeat_password:this.repeat_password,name:this.name,surname:this.surname}).then((function(r){t.$store.commit("LOGIN",r.data.profile),t.$router.push("/")})).catch((function(r){t.listError.push(r.response.data.error.message)}))},errorShow:function(t,r){var e=[];return this.$v[t].$dirty?(this.$v[t].required||e.push("Обязательное поле"),r&&("password"!==r&&"repeat_password"!==r||(/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]){8,}/g.test(this.password)&&/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]){8,}/g.test(this.repeat_password)||e.push("Пароль должен быть не меньше 8 символов с заглавными и прописными буквами"),this.password!==this.repeat_password&&e.push("Пароли не совпадают"))),e):e}},mounted:function(){this.$store.state.profile&&this.$router.push("/")},computed:{emailErrors:function(){return this.errorShow("login")},passwordErrors:function(){return this.errorShow("password","password")},repeat_passwordErrors:function(){return this.errorShow("password","repeat_password")},nameErrors:function(){return this.errorShow("name")},surnameErrors:function(){return this.errorShow("surname")}}}),I=z,T=Object(c["a"])(I,M,R,!1,null,null,null),N=T.exports,U=[{path:"/registration",name:"registration",component:N}],Z=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[e("v-toolbar-title",[t._v("Восстановить пароль")])],1),e("div",{staticClass:"row mx-2"},[e("div",{staticClass:"col-sm"},[e("v-btn",{attrs:{elevation:"0",color:"primary",text:"",block:""},on:{click:t.login}},[t._v("Войти")])],1),e("div",{staticClass:"col-sm"},[e("v-btn",{attrs:{elevation:"0",color:"success",text:"",block:""},on:{click:t.registration}},[t._v("Зарегистрироваться")])],1)]),e("v-divider"),e("v-card-text",[e("v-form",[e("v-text-field",{attrs:{label:"Email",name:"email",type:"text"}})],1)],1),e("v-divider"),e("v-card-actions",[e("v-btn",{attrs:{color:"warning",elevation:"0",block:""}},[t._v("Восстановить пароль")])],1)],1)],1)],1)],1)},J=[],B={name:"forgot__password",methods:{login:function(){this.$router.push("/login")},registration:function(){this.$router.push("/registration")}},mounted:function(){this.$store.state.profile&&this.$router.push("/")}},D=B,H=Object(c["a"])(D,Z,J,!1,null,null,null),F=H.exports,K=[{path:"/forgot__password",name:"forgot__password",component:F}];o["default"].use(b["a"]);var Q=new b["a"]({mode:"history",routes:[].concat(Object(g["a"])(k),Object(g["a"])(A),Object(g["a"])(U),Object(g["a"])(K))}),V=e("2f62"),W={profile:null},X={profile:function(t){return t.profile}},Y={LOGIN:function(t,r){W.profile=r},LOGOUT:function(t){t.profile=null}},tt={state:W,getters:X,mutations:Y};o["default"].use(V["a"]);var rt=new V["a"].Store({modules:{auth:tt}}),et=e("ce5b"),ot=e.n(et);e("bf40");o["default"].use(ot.a);var st={},it=new ot.a(st),nt=e("bc3a"),at=e.n(nt);at.a.defaults.withCredentials=!0;var lt=at.a;o["default"].prototype.$http=lt,o["default"].prototype.$address="http://localhost:7777/api",o["default"].config.productionTip=!1,new o["default"]({router:Q,store:rt,vuetify:it,render:function(t){return t(h)}}).$mount("#app")},"91c6":function(t,r,e){"use strict";var o=e("39e9"),s=e.n(o);s.a},ddd6:function(t,r,e){},e551:function(t,r,e){"use strict";var o=e("ddd6"),s=e.n(o);s.a}});
//# sourceMappingURL=app.df9807ce.js.map